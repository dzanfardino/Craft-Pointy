{% includeJsResource('pointy/pointy.js') %}

{% import "_includes/forms" as forms %}

{% if settings.fixedImageUrl is not null %}
<div class="pointy-image-wrapper">
    <img src="{{ settings.fixedImageUrl }}" class="pointy-image">
    <div class="pointy-marker" style="top: {{y-6}}px; left: {{x-6}}px;"></div>
</div>
{% endif %}

{{ forms.textField({
	label: "X Coordinate"|t,
	class: 'pointy-coord pointy-x',
	name: name ~ '[x]',
	value: x,
	size: '10'
}) }}

{{ forms.textField({
	label: "Y Coordinate"|t,
	class: 'pointy-coord pointy-y',
	name: name ~ '[y]',
	value: y,
	size: '10'
}) }}

<!-- @todo -->
<style>
	.pointy-image-wrapper {position: relative;}
	.pointy-marker {
		width: 8px; height: 8px; background: red; display: block; position: absolute;
		border-radius: 10px;
		border: 1px solid #fff;
		-webkit-animation-name: pulse;
		-webkit-animation-duration: 1.5s;
		-webkit-animation-iteration-count: infinite;
	}
	@-webkit-keyframes pulse {
    0% {-webkit-transform: scale(1, 1);}
    50% {-webkit-transform: scale(1.8, 1.8);}
    100% {-webkit-transform: scale(1, 1);}
}
</style>
